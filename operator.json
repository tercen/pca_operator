{
  "name": "PCA",
  "description": "Runs a Principal Component Analysis to reduce the dimensionality of a dataset.",
  "tags": [
    "dimensionality reduction",
    "multivariate statistics"
  ],
  "authors": [
    "tercen"
  ],
  "urls": [
    "https://github.com/tercen/pca_operator"
  ],
  "properties": [
    {
      "kind": "BooleanProperty",
      "name": "scale",
      "defaultValue": false,
      "description": "A logical value indicating whether the variables should be scaled to have unit variance before the analysis takes place."
    },
    {
      "kind": "BooleanProperty",
      "name": "center",
      "defaultValue": true,
      "description": "A logical value indicating whether the variables should be shifted to be zero centered."
    },
    {
      "kind": "StringProperty",
      "name": "na.action",
      "defaultValue": "",
      "description": "A function which indicates what should happen when the data contain NAs."
    },
    {
      "kind": "DoubleProperty",
      "name": "tol",
      "defaultValue": 0,
      "description": "A value indicating the magnitude below which components should be omitted. Components are omitted if their standard deviations are less than or equal to tol times the standard deviation of the first component."
    },
    {
      "kind": "DoubleProperty",
      "name": "maxComp",
      "defaultValue": 5,
      "description": "Maximum number of components to return."
    }
  ],
  "operatorSpec": {
    "kind": "OperatorSpec",
    "ontologyUri": "https://tercen.com/_ontology/tercen",
    "ontologyVersion": "0.0.1",
    "inputSpecs": [
      {
        "kind": "CrosstabSpec",
        "metaFactors": [
          {
            "kind": "MetaFactor",
            "name": "Variable",
            "type": "",
            "description": "Variable identifiers (e.g. genes, channels, markers).",
            "ontologyMapping": "variable",
            "crosstabMapping": "row",
            "cardinality": "1..n",
            "factors": []
          },
          {
            "kind": "MetaFactor",
            "name": "Observation",
            "type": "",
            "description": "Observation identifiers (e.g. cells, samples, individuals).",
            "ontologyMapping": "observation",
            "crosstabMapping": "column",
            "cardinality": "1..n",
            "factors": []
          }
        ],
        "axis": [
          {
            "kind": "AxisSpec",
            "metaFactors": [
              {
                "kind": "MetaFactor",
                "name": "Measurement",
                "type": "numeric",
                "description": "Measurement values.",
                "ontologyMapping": "measurement",
                "crosstabMapping": "y",
                "cardinality": "1",
                "factors": []
              }
            ]
          }
        ]
      }
    ],
    "outputSpecsV2": [
      {
        "kind": "OperatorJoinSpec",
        "joinOperators": [
          {
            "kind": "JoinOperator",
            "joinType": "left",
            "leftPair": {
              "kind": "ColumnPair",
              "lColumns": [
                "Observation"
              ],
              "rColumns": [
                "Observation"
              ]
            },
            "rightRelation": {
              "kind": "TableRelation",
              "attributes": [
                {
                  "kind": "Attribute",
                  "name": "PC",
                  "type": "string"
                },
                {
                  "kind": "Attribute",
                  "name": "pc.value",
                  "type": "double"
                },
                {
                  "kind": "Attribute",
                  "name": "pc.eigen.values",
                  "type": "double"
                },
                {
                  "kind": "Attribute",
                  "name": "var_explained",
                  "type": "double"
                },
                {
                  "kind": "Attribute",
                  "name": "pc.loading",
                  "type": "double"
                }
              ]
            }
          }
        ]
      }
    ]
  }
}